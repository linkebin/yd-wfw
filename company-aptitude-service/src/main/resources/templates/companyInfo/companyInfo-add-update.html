<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script th:src="@{/jquery/jquery-1.9.0.min.js}" type="text/javascript"></script>
    <link th:href="@{/style.css}" type="text/css" rel="stylesheet"/>
    <link th:href="@{/ligerUI/skins/Aqua/css/ligerui-all.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/ligerUI/js/ligerui.all.js}" type="text/javascript"></script>
</head>
<body>
<div th:class="fsarea" style="height: 100%">
    <h2>企业信息</h2>
    <div th:class="fscxt">
        <div th:class="applyform">
            <form id="insertOrupdate" th:if="${companyInfo !=null}" th:object="${companyInfo}">
                <table>
                    <tr>
                        <th>企业编号:</th>
                        <td><input  type="text" name="companyId"  th:value="*{companyId}" readonly="readonly"/></td>
                        <th>组织机构代码:</th>
                        <td><input type="text" name="oibc" th:value="*{oibc}"/></td>
                    </tr>
                    <tr>
                        <th>企业名称:</th>
                        <td><input type="text" name="name" th:value="*{name}"/></td>
                        <th>企业负责人:</th>
                        <td><input type="text" name="principal" th:value="*{principal}"/></td>
                    </tr>
                    <tr>
                        <th>企业法定代表:</th>
                        <td><input type="text" name="legal" th:value="*{legal}"/></td>
                        <th>企业法定代表人编号:</th>
                        <td><input type="text" name="legalIdNumber" th:value="*{legalIdNumber}"/></td>
                    </tr>
                    <tr>
                        <th>注册资本:</th>
                        <td><input type="text" name="signCapital" th:value="*{signCapital}"/></td>
                        <th>营业执照注册:</th>
                        <td><input type="text" name="licenseNumber" th:value="*{licenseNumber}"/></td>
                    </tr>
                    <tr>
                        <th>企业类型:</th>
                        <td><input type="text" name="type" th:value="*{type}"/></td>
                        <th>电话:</th>
                        <td><input type="text" name="phone" th:value="*{phone}"/></td>
                    </tr>
                    <tr>
                        <th>邮件:</th>
                        <td><input type="text" name="email" th:value="*{email}"/></td>
                        <th>传真:</th>
                        <td><input type="text" name="fax" th:value="*{fax}"/></td>
                    </tr>
                    <tr>
                        <th>邮政编码:</th>
                        <td><input type="text" name="postalcode" th:value="*{postalcode}"/></td>
                        <th>地址:</th>
                        <td><input type="text" name="address" th:value="*{address}"/></td>
                    </tr>
                    <tr>
                        <th>企业成立时间:</th>
                        <td><input style="width: 100%" type="text" id="foundTime" name="foundTime" th:value="*{foundTime}"/></td>
                        <input name="deleted"  type="hidden" th:if="*{deleted!=null}" th:value="*{deleted}" />
                        <input name="createTime" type="hidden" th:if="*{createTime!=null}" th:value="*{createTime}" />
                        <td>
                            <input  type="button" value="保存数据" onclick="getSubmit()"/>
                        </td>
                    </tr>
                </table>
            </form>
            <form id="insertOrupdate" th:if="${companyInfo ==null}" th:object="${companyInfo}">
                <table>
                    <tr>
                        <th>组织机构代码:</th>
                        <td><input type="text" name="oibc"/></td>
                        <th>企业名称:</th>
                        <td><input type="text" name="name"/></td>
                    </tr>
                    <tr>
                        <th>企业负责人:</th>
                        <td><input type="text" name="principal"/></td>
                        <th>企业法定代表:</th>
                        <td><input type="text" name="legal"/></td>
                    </tr>
                    <tr>
                        <th>企业法定代表人编号:</th>
                        <td><input type="text" name="legalIdNumber"/></td>
                        <th>注册资本:</th>
                        <td><input type="text" name="signCapital"/></td>
                    </tr>
                    <tr>
                        <th>营业执照注册:</th>
                        <td><input type="text" name="licenseNumber"/></td>
                        <th>企业类型:</th>
                        <td><input type="text" name="type"/></td>
                    </tr>
                    <tr>
                        <th>电话:</th>
                        <td><input type="text" name="phone"/></td>
                        <th>邮箱:</th>
                        <td><input type="text" name="email"/></td>
                    </tr>
                    <tr>
                        <th>传真:</th>
                        <td><input type="text" name="fax"/></td>
                        <th>邮政编码:</th>
                        <td><input type="text" name="postalcode"/></td>
                    </tr>
                    <tr>
                        <th>地址:</th>
                        <td><input type="text" name="address"/></td>
                        <th>企业成立时间:</th>
                        <td><input style="width: 100%" type="text" id="foundTime" name="foundTime"/></td>
                    </tr>
                    <tr>
                        <td colspan="3">
                            <input  type="button" value="保存数据" onclick="getSubmit()"/>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
    $(function () {
        $('#foundTime').ligerDateEditor();
    })
    function getSubmit (){
        var data = $('#insertOrupdate').serialize();
        $.ajax({
            type: 'POST',
            url: 'addOrUpdate',
            data: data,
            dataType: 'json',
            success: function(data){
                alert("保存成功");
                parent.callBack();
            },
            error:function(){
                alert("保存失败");
            }
        });
    }
</script>
</html>